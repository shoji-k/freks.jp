<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>freks tips</title>
    <link>https://freks.jp/tips/index.xml</link>
    <description>Recent content on freks tips</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Thu, 11 May 2017 16:33:15 +0900</lastBuildDate>
    <atom:link href="https://freks.jp/tips/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>windows10</title>
      <link>https://freks.jp/tips/windows10/</link>
      <pubDate>Thu, 11 May 2017 16:33:15 +0900</pubDate>
      
      <guid>https://freks.jp/tips/windows10/</guid>
      <description>

&lt;h1 id=&#34;first&#34;&gt;first&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;Windows Update&lt;/li&gt;
&lt;li&gt;Dell Update (Dellの場合)&lt;/li&gt;
&lt;li&gt;不要なアプリを削除&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;capslockにctrlを割り当てる&#34;&gt;CapsLockにCtrlを割り当てる&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://technet.microsoft.com/en-us/sysinternals/bb897578.aspx&#34;&gt;Ctrl2cap&lt;/a&gt;を使う&lt;/p&gt;

&lt;p&gt;ダウンロードしてexeを実行する&lt;br /&gt;
管理者権限が必要なので、コマンドプロンプトを右クリック、管理者権限で実行する&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt; ctrl2cap.exe /install
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;install-applications&#34;&gt;install applications&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;Google Chrome

&lt;ul&gt;
&lt;li&gt;synchronize in setting menu&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Vivaldi

&lt;ul&gt;
&lt;li&gt;pin: toggl&lt;/li&gt;
&lt;li&gt;pin: feedly&lt;/li&gt;
&lt;li&gt;pin: trello&lt;/li&gt;
&lt;li&gt;pin: paper&lt;/li&gt;
&lt;li&gt;pin: google music&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Gyazo&lt;/li&gt;
&lt;li&gt;kindle&lt;/li&gt;
&lt;li&gt;Shift

&lt;ul&gt;
&lt;li&gt;two inbox&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Franz

&lt;ul&gt;
&lt;li&gt;other inboxes&lt;/li&gt;
&lt;li&gt;TweetDeck&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Chatwork&lt;/li&gt;
&lt;li&gt;Slack&lt;/li&gt;
&lt;li&gt;Messenger&lt;/li&gt;
&lt;li&gt;BoW

&lt;ul&gt;
&lt;li&gt;ssh config&lt;/li&gt;
&lt;li&gt;mosh&lt;/li&gt;
&lt;li&gt;git&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;VS Code&lt;/li&gt;
&lt;li&gt;Sublime Text&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;windows-store&#34;&gt;windows store&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;line&lt;/li&gt;
&lt;li&gt;facebook&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;control-panel&#34;&gt;Control Panel&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;設定 &amp;gt;バージョン情報

&lt;ul&gt;
&lt;li&gt;PC名変更&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ディスプレイのカスタマイズ

&lt;ul&gt;
&lt;li&gt;テキスト、アプリ、その他の項目のサイズを変更する&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;アップデートとセキュリティ &amp;gt; 開発者モード

&lt;ul&gt;
&lt;li&gt;開発者モードを有効にする(for BoW)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>awscli</title>
      <link>https://freks.jp/tips/awscli/</link>
      <pubDate>Thu, 11 May 2017 15:18:08 +0900</pubDate>
      
      <guid>https://freks.jp/tips/awscli/</guid>
      <description>

&lt;h2 id=&#34;初期設定&#34;&gt;初期設定&lt;/h2&gt;

&lt;p&gt;AWS IAM Managerでアカウントを用意、Access keyを作成する&lt;br /&gt;
作ったアカウントに権限を与える&lt;br /&gt;
groupでAdministratorAccessを与えると全部できそう&lt;/p&gt;

&lt;p&gt;$ aws configure&lt;/p&gt;

&lt;h2 id=&#34;elbに登録されたssl証明書一覧を表示する&#34;&gt;ELBに登録されたSSL証明書一覧を表示する&lt;/h2&gt;

&lt;p&gt;$ aws iam list-server-certificates&lt;/p&gt;

&lt;h2 id=&#34;elbに登録されたssl証明書を削除する&#34;&gt;ELBに登録されたSSL証明書を削除する&lt;/h2&gt;

&lt;p&gt;$ aws iam delete-server-certificate &amp;ndash;server-certificate-name (証明書の名前）&lt;/p&gt;

&lt;h2 id=&#34;ssl証明書アップロード&#34;&gt;SSL証明書アップロード&lt;/h2&gt;

&lt;p&gt;管理画面GUIからだとエラーになる&lt;/p&gt;

&lt;p&gt;$ aws iam upload-server-certificate &amp;ndash;server-certificate-name your-certificate-name &amp;ndash;certificate-body file://Certificate.pem &amp;ndash;certificate-chain file://CertificateChain.pem &amp;ndash;private-key file://PrivateKey.pem&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_credentials_server-certs.html&#34;&gt;サーバー証明書の使用 - AWS Identity and Access Management&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;EC2 &amp;gt; ELBの設定で、アップロードしたSSL証明書を選べば反映させる&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>neovim</title>
      <link>https://freks.jp/tips/neovim/</link>
      <pubDate>Mon, 08 May 2017 09:49:39 +0900</pubDate>
      
      <guid>https://freks.jp/tips/neovim/</guid>
      <description>

&lt;h1 id=&#34;install&#34;&gt;install&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/neovim/neovim/wiki/Installing-Neovim&#34;&gt;Installing Neovim&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;ubuntu-16-04-xenial&#34;&gt;ubuntu 16.04 xenial&lt;/h2&gt;

&lt;p&gt;stable repository installs nvim 1.7.x on 2017-05-08&lt;br /&gt;
use unstable repo to install 2.1.x&lt;/p&gt;

&lt;h1 id=&#34;check&#34;&gt;check&lt;/h1&gt;

&lt;p&gt;:CheckHealth show the status of neovim&lt;/p&gt;

&lt;h2 id=&#34;clipboard&#34;&gt;clipboard&lt;/h2&gt;

&lt;h3 id=&#34;local&#34;&gt;local&lt;/h3&gt;

&lt;p&gt;need to install xclip or xsel&lt;br /&gt;
$ sudo apt install xsel&lt;/p&gt;

&lt;h3 id=&#34;over-ssh&#34;&gt;over ssh&lt;/h3&gt;

&lt;p&gt;?&lt;/p&gt;

&lt;h2 id=&#34;python2&#34;&gt;python2&lt;/h2&gt;

&lt;p&gt;this was needed sudo&lt;br /&gt;
$ sudo pip2 install &amp;ndash;upgrade neovim&lt;/p&gt;

&lt;h2 id=&#34;python3&#34;&gt;python3&lt;/h2&gt;

&lt;p&gt;$ pip3 install &amp;ndash;upgrade neovim&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>mongo</title>
      <link>https://freks.jp/tips/mongo/</link>
      <pubDate>Sun, 30 Apr 2017 22:39:20 +0900</pubDate>
      
      <guid>https://freks.jp/tips/mongo/</guid>
      <description>

&lt;p&gt;mongodbはschemeless&lt;/p&gt;

&lt;h1 id=&#34;naming&#34;&gt;naming&lt;/h1&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;RDB&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;mongo&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;table&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;collection&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;row&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;document&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;column&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;field&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h1 id=&#34;command&#34;&gt;command&lt;/h1&gt;

&lt;p&gt;$ mongo&lt;br /&gt;
$ mongo (database name) -u (user name) -p&lt;/p&gt;

&lt;h1 id=&#34;command-in-mongo&#34;&gt;command in mongo&lt;/h1&gt;

&lt;h2 id=&#34;show-databases&#34;&gt;show databases&lt;/h2&gt;

&lt;p&gt;show dbs;&lt;/p&gt;

&lt;h2 id=&#34;show-collections&#34;&gt;show collections&lt;/h2&gt;

&lt;p&gt;use (database name);&lt;br /&gt;
db.getCollectionNames();&lt;/p&gt;

&lt;p&gt;field見るにはfindで&lt;/p&gt;

&lt;h2 id=&#34;create-an-user&#34;&gt;create an user&lt;/h2&gt;

&lt;p&gt;db.createUser({user: &amp;ldquo;user&amp;rdquo;, pwd: &amp;ldquo;password&amp;rdquo;, roles:[{ &amp;ldquo;role&amp;rdquo;: &amp;ldquo;userAdminAnyDatabase&amp;rdquo;, &amp;ldquo;db&amp;rdquo;: &amp;ldquo;admin&amp;rdquo;}]});&lt;/p&gt;

&lt;h2 id=&#34;show-users&#34;&gt;show users&lt;/h2&gt;

&lt;p&gt;use admin;&lt;br /&gt;
db.system.users.find();&lt;/p&gt;

&lt;h2 id=&#34;insert-data&#34;&gt;insert data&lt;/h2&gt;

&lt;p&gt;schemelessのためcollectionをcreateとかしなくていい&lt;/p&gt;

&lt;p&gt;collection aaa に insert&lt;br /&gt;
db.aaa.insert({name: &amp;lsquo;hey&amp;rsquo;, gender: &amp;rsquo;m&amp;rsquo;});&lt;/p&gt;

&lt;h2 id=&#34;find-data&#34;&gt;find data&lt;/h2&gt;

&lt;p&gt;db.aaa.find();&lt;br /&gt;
db.aaa.find({gender: &amp;rsquo;m&amp;rsquo;});&lt;/p&gt;

&lt;h2 id=&#34;remove-data&#34;&gt;remove data&lt;/h2&gt;

&lt;p&gt;db.aaa.find({gender: &amp;rsquo;m&amp;rsquo;});&lt;/p&gt;

&lt;h1 id=&#34;docker&#34;&gt;docker&lt;/h1&gt;

&lt;p&gt;image: &lt;a href=&#34;https://hub.docker.com/_/mongo/&#34;&gt;mongo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;docker-compose&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;version: &#39;2&#39;
services:
  mongo:
    container_name: mongo
    image: mongo
    ports:
    - &amp;quot;27017:27017&amp;quot;
    volumes:
    - ./mongo/data:/data/db
    - ./mongo/init/:/docker-entrypoint-initdb.d/
    environment:
    - MONGO_INITDB_DATABASE=fluentd
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;MONGO_INITDB_DATABASE is the database where initial script creates users.&lt;br /&gt;
(see /docker-entry.point in the container)&lt;/p&gt;

&lt;p&gt;data is preserved in ./mongo/data&lt;/p&gt;

&lt;p&gt;initialize script is in ./mongo/init&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var newUsers = [
  {
		user: &#39;logger&#39;,
		pwd: &#39;password&#39;,
		roles: [
			{
				role: &#39;readWrite&#39;,
				db: &#39;fluentd&#39;
			}
		]
	}
];

var currentUsers = db.getUsers();
if (currentUsers.length === newUsers.length) {
	quit();
}
db.dropAllUsers();

for (var i = 0, length = newUsers.length; i &amp;lt; length; ++i) {
	db.createUser(newUsers[i]);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;refference: &lt;a href=&#34;http://qiita.com/janus_wel/items/daf19943837e2562cc9f&#34;&gt;fluentd + MongoDB でログサーバー構築 - Qiita&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>IT events</title>
      <link>https://freks.jp/tips/it-events/</link>
      <pubDate>Fri, 28 Apr 2017 17:16:30 +0900</pubDate>
      
      <guid>https://freks.jp/tips/it-events/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.doorkeeper.jp/events/&#34;&gt;doorkeeper 近日開催イベント&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://connpass.com/upcoming_events/&#34;&gt;connpass 直前イベント&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Twitter&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_hokkaido&#34;&gt;IT勉強会@北海道&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_tohoku&#34;&gt;IT勉強会@東北&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_kanto&#34;&gt;IT勉強会@関東&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_chubu&#34;&gt;IT勉強会@中部&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_kinki&#34;&gt;IT勉強会@近畿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_chugoku&#34;&gt;IT勉強会@中国&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_shikoku&#34;&gt;IT勉強会@四国&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://twitter.com/atnd_kyushu&#34;&gt;IT勉強会@九州&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>syslog</title>
      <link>https://freks.jp/tips/syslog/</link>
      <pubDate>Wed, 26 Apr 2017 18:44:47 +0900</pubDate>
      
      <guid>https://freks.jp/tips/syslog/</guid>
      <description>

&lt;h1 id=&#34;ubuntu&#34;&gt;Ubuntu&lt;/h1&gt;

&lt;h2 id=&#34;rsyslog&#34;&gt;rsyslog&lt;/h2&gt;

&lt;p&gt;rsyslogが使われている&lt;br /&gt;
facilityとpriorityを指定するとログを吐く場所を変えられる&lt;/p&gt;

&lt;p&gt;facility: mail&lt;br /&gt;
priority: alert&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ logger -p mail.alert xxxxx
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;config&#34;&gt;config&lt;/h3&gt;

&lt;p&gt;$ vi /etc/rsyslog.d/50-default.conf&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mail.info     /var/log/mail.info
mail.warn     /var/log/mail.warn
mail.err      /var/log/mail.err
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>tls/ssl</title>
      <link>https://freks.jp/tips/tls-ssl/</link>
      <pubDate>Wed, 26 Apr 2017 12:20:54 +0900</pubDate>
      
      <guid>https://freks.jp/tips/tls-ssl/</guid>
      <description>

&lt;h1 id=&#34;tls証明書の選定&#34;&gt;TLS証明書の選定&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;http://www.excite.co.jp/News/it_g/20170326/Slashdot_17_03_26_064241.html&#34;&gt;2017.3 Googleとシマンテックがもめている&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;シマンテック関連会社&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ジオトラスト&lt;/li&gt;
&lt;li&gt;ラピッドSSL&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;残るは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;グローバルサイン&lt;/li&gt;
&lt;li&gt;サイバートラスト&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://serverkurabe.com/ssl-matome/&#34;&gt;証明書比較サイト serverkurabe&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;国内代理店で買うのが費用面とサポートでよさそう&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.ssl.ph/&#34;&gt;ドメインキーパー&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://datahotel.jp/service/sslcoupon/&#34;&gt;データホテル&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;証明書乗り換えで、新規契約分の期限が伸ばせてよさそう&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.ssl.ph/merit/contents08.html&#34;&gt;ドメインキーパー 証明書乗り換え&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://dev.classmethod.jp/cloud/aws/aws-beginner-elb-ssl/&#34;&gt;クラスメソッド ELBにSSL証明書割り当て&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AWSでは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;プライベートキー&lt;/li&gt;
&lt;li&gt;パブリックキー証明書&lt;/li&gt;
&lt;li&gt;証明書チェーン&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;を入力して登録できる&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>fuelphp</title>
      <link>https://freks.jp/tips/fuelphp/</link>
      <pubDate>Tue, 11 Apr 2017 15:21:18 +0900</pubDate>
      
      <guid>https://freks.jp/tips/fuelphp/</guid>
      <description>

&lt;h1 id=&#34;install&#34;&gt;install&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://fuelphp.com/docs/installation/instructions.html&#34;&gt;Instruction - Installation - FuelPHP Documentation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;/usr/local/bin/oil にインストールされる&lt;/p&gt;

&lt;p&gt;oilコマンドはfuelphpプロジェクト以外の場所でたたくとエラーを吐く&lt;br /&gt;
e.g. This is not a valid Fuel installation so Oil is a bit lost.&lt;/p&gt;

&lt;p&gt;$ oil create &lt;project_name&gt;&lt;br /&gt;
でプロジェクトが作れる&lt;br /&gt;
実際は git clone して composer install をしている&lt;/p&gt;

&lt;p&gt;cd &lt;project_name&gt;&lt;br /&gt;
oil server&lt;br /&gt;
で起動できる&lt;/p&gt;

&lt;h2 id=&#34;config&#34;&gt;config&lt;/h2&gt;

&lt;h3 id=&#34;環境切り替え&#34;&gt;環境切り替え&lt;/h3&gt;

&lt;p&gt;FUEL_ENVの環境変数によって読みこむconfigファイルが切り替わる&lt;br /&gt;
bootstrap.phpにコード有り&lt;/p&gt;

&lt;p&gt;$ FUEL_ENV=production oil server&lt;/p&gt;

&lt;p&gt;もしくはapacheの設定に渡す&lt;/p&gt;

&lt;h3 id=&#34;profilingをdevelopmentで有効にする&#34;&gt;profilingをdevelopmentで有効にする&lt;/h3&gt;

&lt;p&gt;app/config/config.phpに profiling のパラメータがあるがこれは全体に影響する&lt;br /&gt;
app/config/development/config.phpを作るとパラメーターが上書きされる&lt;/p&gt;

&lt;p&gt;$ vim app/config/development/config.php&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;return array(
    &#39;profiling&#39;  =&amp;gt; true,
);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;データベースのプロファイルも表示するなら&lt;/p&gt;

&lt;p&gt;$ vim app/config/development/db.php&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;return array(
  &#39;default&#39; =&amp;gt; array(
      &#39;connection&#39;  =&amp;gt; array(
      &#39;dsn&#39;        =&amp;gt; &#39;mysql:host=localhost;dbname=fuelphp&#39;,
      &#39;username&#39;   =&amp;gt; &#39;root&#39;,
      &#39;password&#39;   =&amp;gt; &#39;root&#39;,
      ),
+    &#39;profiling&#39;  =&amp;gt; true,
  ),
);

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;オリジナルのパラメータを追加する&#34;&gt;オリジナルのパラメータを追加する&lt;/h3&gt;

&lt;p&gt;app/configディレクトリに新しくファイルを作って読み込む&lt;/p&gt;

&lt;p&gt;$ vim app/config/original.php&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;return [
    &#39;one&#39; =&amp;gt; &#39;sample&#39;
];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;読み込むには&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Config::load(&#39;original&#39;, true);
$one = Config::get(&#39;original.one&#39;);
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>rsync</title>
      <link>https://freks.jp/tips/rsync/</link>
      <pubDate>Sat, 08 Apr 2017 13:39:07 +0900</pubDate>
      
      <guid>https://freks.jp/tips/rsync/</guid>
      <description>

&lt;h1 id=&#34;backup-remote-files&#34;&gt;backup remote files&lt;/h1&gt;

&lt;p&gt;$ rsync &amp;ndash;exclude=&amp;ldquo;/src/app/cache&amp;rdquo; &amp;ndash;exclude=&amp;ldquo;.git&amp;rdquo; &amp;ndash;exclude=&amp;ldquo;.gitignore&amp;rdquo; -rltuvz sample:/var/www/html ./&lt;/p&gt;

&lt;p&gt;-r recursive&lt;br /&gt;
-l copy symlinks&lt;br /&gt;
-t preserve modification time&lt;br /&gt;
-u skip file that are newer&lt;br /&gt;
-v verbose&lt;br /&gt;
-z compress&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>php cs fixer</title>
      <link>https://freks.jp/tips/php-cs-fixer/</link>
      <pubDate>Fri, 07 Apr 2017 16:54:27 +0900</pubDate>
      
      <guid>https://freks.jp/tips/php-cs-fixer/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://github.com/FriendsOfPHP/PHP-CS-Fixer&#34;&gt;PHP-CS-Fixer&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;install-by-composer&#34;&gt;install by composer&lt;/h1&gt;

&lt;p&gt;$ composer global require friendsofphp/php-cs-fixer&lt;/p&gt;

&lt;h1 id=&#34;how-to-use&#34;&gt;how to use&lt;/h1&gt;

&lt;p&gt;標準設定ファイル&lt;br /&gt;
個別の設定は .php_cs&lt;/p&gt;

&lt;p&gt;$ vim .php_cs.dist&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?php
namespace PhpCsFixer;

return Config::create()
  -&amp;gt;setRiskyAllowed(true)
  -&amp;gt;setRules([
    &#39;@PSR1&#39; =&amp;gt; true,
    &#39;@PSR2&#39; =&amp;gt; true,
    &#39;@Symfony&#39; =&amp;gt; true,
    &#39;@Symfony:risky&#39; =&amp;gt; true,
    &#39;array_syntax&#39; =&amp;gt; [
      &#39;syntax&#39; =&amp;gt; &#39;short&#39;,
    ],
  ])
;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;確認 .php_cs.dist を使う&lt;/p&gt;

&lt;p&gt;$ php-cs-fixer fix &amp;ndash;dry-run &amp;ndash;diff&lt;/p&gt;

&lt;p&gt;修正 .php_cs.dist を使う&lt;/p&gt;

&lt;p&gt;$ php-cs-fixer fix&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>virusscan</title>
      <link>https://freks.jp/tips/virusscan/</link>
      <pubDate>Tue, 04 Apr 2017 12:41:55 +0900</pubDate>
      
      <guid>https://freks.jp/tips/virusscan/</guid>
      <description>

&lt;h1 id=&#34;clamav&#34;&gt;clamav&lt;/h1&gt;

&lt;h2 id=&#34;install-on-ubuntu&#34;&gt;install on ubuntu&lt;/h2&gt;

&lt;p&gt;$ sudo apt-get install clamav&lt;/p&gt;

&lt;h2 id=&#34;refresh-database&#34;&gt;refresh database&lt;/h2&gt;

&lt;p&gt;$ sudo freshscan&lt;/p&gt;

&lt;h2 id=&#34;search-virus&#34;&gt;search virus&lt;/h2&gt;

&lt;p&gt;カレントディレクトリ内の汚染されたファイルを表示する&lt;br /&gt;
$ clamscan &amp;ndash;infected -r ./&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>clothes</title>
      <link>https://freks.jp/tips/clothes/</link>
      <pubDate>Mon, 03 Apr 2017 17:19:22 +0900</pubDate>
      
      <guid>https://freks.jp/tips/clothes/</guid>
      <description>

&lt;h1 id=&#34;bag&#34;&gt;bag&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;http://wonder-baggage.com&#34;&gt;WONDER BAGGAGE&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>sendgrid php</title>
      <link>https://freks.jp/tips/sendgrid-php/</link>
      <pubDate>Sun, 12 Mar 2017 14:10:31 +0900</pubDate>
      
      <guid>https://freks.jp/tips/sendgrid-php/</guid>
      <description>

&lt;p&gt;refference: &lt;a href=&#34;https://github.com/sendgrid/sendgrid-php&#34;&gt;https://github.com/sendgrid/sendgrid-php&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;install&#34;&gt;install&lt;/h1&gt;

&lt;p&gt;$ composer install sendgrid/sendgrid&lt;/p&gt;

&lt;h1 id=&#34;set-api-key&#34;&gt;set api key&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;echo &amp;quot;export SENDGRID_API_KEY=&#39;YOUR_API_KEY&#39;&amp;quot; &amp;gt; sendgrid.env
echo &amp;quot;sendgrid.env&amp;quot; &amp;gt;&amp;gt; .gitignore
source ./sendgrid.env
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;sample-code&#34;&gt;sample code&lt;/h1&gt;

&lt;p&gt;see: &lt;a href=&#34;https://github.com/sendgrid/sendgrid-php/blob/master/examples/contactdb/contactdb.php&#34;&gt;https://github.com/sendgrid/sendgrid-php/blob/master/examples/contactdb/contactdb.php&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?php
require &#39;vendor/autoload.php&#39;;

$apiKey = getenv(&#39;SENDGRID_API_KEY&#39;);
$sg = new \SendGrid($apiKey);

$response = $sg-&amp;gt;client-&amp;gt;contactdb()-&amp;gt;lists()-&amp;gt;get();
echo &#39;status code: &#39;, $response-&amp;gt;statusCode(), PHP_EOL;
echo &#39;======body======&#39;,PHP_EOL;
var_dump($response-&amp;gt;body());
echo &#39;======headers======&#39;,PHP_EOL;
var_dump($response-&amp;gt;headers());
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>sendgrid api</title>
      <link>https://freks.jp/tips/sendgrid-api/</link>
      <pubDate>Sat, 11 Mar 2017 15:50:24 +0900</pubDate>
      
      <guid>https://freks.jp/tips/sendgrid-api/</guid>
      <description>

&lt;p&gt;API KEYを用意&lt;br /&gt;
必要な権限を与える&lt;/p&gt;

&lt;p&gt;refference: &lt;a href=&#34;https://sendgrid.com/docs/API_Reference/api_v3.html&#34;&gt;https://sendgrid.com/docs/API_Reference/api_v3.html&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;campaine用のリストにメンバーを追加する&#34;&gt;campaine用のリストにメンバーを追加する&lt;/h1&gt;

&lt;p&gt;APIはcampaineの権限を与えたものを用意&lt;/p&gt;

&lt;h2 id=&#34;リストを用意しておく&#34;&gt;リストを用意しておく&lt;/h2&gt;

&lt;p&gt;手動 or API&lt;/p&gt;

&lt;h2 id=&#34;リストを取得する&#34;&gt;リストを取得する&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ curl --request GET \
  --url https://api.sendgrid.com/v3/contactdb/lists \
  --header &#39;Authorization: Bearer (key)&#39; \
  --header &#39;Content-Type: application/json&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;list_idが取得できる&lt;/p&gt;

&lt;h2 id=&#34;メンバーを登録する&#34;&gt;メンバーを登録する&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ curl --request POST \
  --url &#39;https://api.sendgrid.com/v3/contactdb/recipients&#39; \
  --header &#39;Authorization: Bearer (key)&#39; \
  --header &#39;Content-Type: application/json&#39; \
  --data &#39;[{
   &amp;quot;email&amp;quot;: &amp;quot;sample@example.com&amp;quot;,
   &amp;quot;first_name&amp;quot;: &amp;quot;first&amp;quot;,
   &amp;quot;last_name&amp;quot;: &amp;quot;last&amp;quot;
  }]&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Responseでrecipient_idが取得できる&lt;br /&gt;
最初からリストに登録はできない様子&lt;br /&gt;
ALL CONTACTSに登録される&lt;/p&gt;

&lt;h2 id=&#34;登録したメンバーをリストに登録する&#34;&gt;登録したメンバーをリストに登録する&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ curl --request POST \
  --url https://api.sendgrid.com/v3/contactdb/lists/(list id)/recipients/(recipients id) \
  --header &#39;Authorization: Bearer (key)&#39; \
  --data null
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;メンバー全員を取得する&#34;&gt;メンバー全員を取得する&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;$ curl --request GET \
  --url &#39;https://api.sendgrid.com/v3/contactdb/(list id)/1092377/recipients?page_size=1000&amp;amp;page=1&#39; \
  --header &#39;Authorization: Bearer (key)&#39; \
  --header &#39;Content-Type: application/json&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;メンバーを削除する&#34;&gt;メンバーを削除する&lt;/h1&gt;

&lt;p&gt;登録を削除する方法&lt;br /&gt;
削除せずメールを送らないようにするには、Unsubscriped groupに追加のほうがよさそう&lt;/p&gt;

&lt;h2 id=&#34;メンバー情報を取得&#34;&gt;メンバー情報を取得&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;curl --request GET \
  --url https://api.sendgrid.com/v3/contactdb/recipients/search?email=sample@sample.com \
  --header &#39;authorization: Bearer (key)&#39; \
  --data &#39;{}&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;recipient_idが取得できる&lt;/p&gt;

&lt;h2 id=&#34;削除&#34;&gt;削除&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ curl --request DELETE \
  --url https://api.sendgrid.com/v3/contactdb/recipients/(recipient id) \
  --header &#39;authorization: Bearer (key)&#39; \
  --data null
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>amazon ecs</title>
      <link>https://freks.jp/tips/amazon-ecs/</link>
      <pubDate>Fri, 10 Mar 2017 14:29:18 +0900</pubDate>
      
      <guid>https://freks.jp/tips/amazon-ecs/</guid>
      <description>

&lt;p&gt;see &lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/Welcome.html&#34;&gt;Amazon EC2 Container Service とは&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;クラスター&#34;&gt;クラスター&lt;/h1&gt;

&lt;p&gt;一番大枠&lt;br /&gt;
中に立ち上げるEC2インスタンスの数を決められる&lt;/p&gt;

&lt;h1 id=&#34;コンテナインスタンス&#34;&gt;コンテナインスタンス&lt;/h1&gt;

&lt;p&gt;EC2インスタンス&lt;br /&gt;
dockerとecs agent入りの&lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/ecs-optimized_AMI.html?shortFooter=true&#34;&gt;AMI&lt;/a&gt;を使う&lt;/p&gt;

&lt;p&gt;EC2を自分で用意してクラスターに参加させることもできる&lt;/p&gt;

&lt;h1 id=&#34;タスク定義&#34;&gt;タスク定義&lt;/h1&gt;

&lt;p&gt;Docker imageの指定&lt;br /&gt;
CPU、メモリの指定&lt;/p&gt;

&lt;p&gt;複数のコンテナを指定できる&lt;/p&gt;

&lt;p&gt;&lt;blockquote&gt;
同じインスタンスでどのプロセスを一緒に実行する必要があるか、各コンポーネントをどのようにスケーリングするかを検討します
&lt;/blockquote&gt;
&lt;small&gt;&lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/application_architecture.html&#34;&gt;http://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/application_architecture.html&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;

&lt;h1 id=&#34;サービス&#34;&gt;サービス&lt;/h1&gt;

&lt;p&gt;&lt;blockquote&gt;
タスク定義の指定した数 (&amp;ldquo;必要数&amp;rdquo;) のインスタンスを ECS クラスターで同時に実行して維持できます。
&lt;/blockquote&gt;
&lt;small&gt;
&lt;a href=&#34;http://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/ecs_services.html?shortFooter=true&#34;&gt;http://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/ecs_services.html?shortFooter=true&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;タスクが停止したらタスクを強制終了、再度開始する&lt;/li&gt;
&lt;li&gt;ロードバランサーの指定&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;composeを使う&#34;&gt;composeを使う&lt;/h1&gt;

&lt;p&gt;ecs-cli をインストールして使う&lt;/p&gt;

&lt;p&gt;see [&lt;a href=&#34;https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/ECS_CLI_tutorial.html&#34;&gt;https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/ECS_CLI_tutorial.html&lt;/a&gt;]&lt;/p&gt;

&lt;p&gt;ecs-cliの設定&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ecs-cli configure --region us-west-2 --access-key $AWS_ACCESS_KEY_ID --secret-key $AWS_SECRET_ACCESS_KEY --cluster ecs-cli-demo
INFO[0000] Saved ECS CLI configuration for cluster (ecs-cli-demo)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;２つインスタンスを作る&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ecs-cli up --keypair id_rsa --capability-iam --size 2 --instance-type t2.medium
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;keypairは指定したリージョン内のEC2のキーペアを指定する&lt;br /&gt;
権限がいくつか必要、IAM:USER:ROLEとECS&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>