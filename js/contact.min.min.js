$(function(){var t={showResult:function(t){$("#result").html("<div class='alert alert-success'>"),$("#result > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#result > .alert-success").append("<strong>"+t+"</strong>"),$("#result > .alert-success").append("</div>")},showError:function(t){$("#result").html("<div class='alert alert-danger'>"),$("#result > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"),$("#result > .alert-danger").append("<strong>"+t+"</strong>"),$("#result > .alert-danger").append("</div>")}};$("#submitBtn").on("click",function(){var e=$("input#name").val(),s=$("input#email").val(),r=$("textarea#message").val(),a=!1;return e||($("#nameError").html("名前を入力してください"),a=!0),s||($("#emailError").html("メールアドレスを入力してください"),a=!0),r||($("#messageError").html("メッセージを入力してください"),a=!0),!a&&($("#submitBtn").attr("disabled",!0),$("#submitBtn").html('<span class="loader"></span>Sending..'),$("#result").html(""),void $.ajax({url:"../mail/contact.php",type:"POST",data:{name:e,email:s,message:r},cache:!1,success:function(e){$("#submitBtn").attr("disabled",!1),e.result?t.showResult(e.message):t.showError(e.message),$("#submitBtn").html("Send"),$("#contactForm").trigger("reset")},error:function(){$("#submitBtn").attr("disabled",!1),t.showError("エラーが発生しました<br>contact@freks.jpまでご連絡ください"),$("#submitBtn").html("Send"),$("#contactForm").trigger("reset")}}))}),$("#name").focus(function(){$("#result").html(""),$("#nameError").html("")}),$("#email").focus(function(){$("#result").html(""),$("#emailError").html("")}),$("#message").focus(function(){$("#result").html(""),$("#messageError").html("")})});